
:css
  #cal {
    font: 10px sans-serif;
    shape-rendering: crispEdges;
    margin-top:10px;
  }

  .day {
    fill: #3f5060;
    stroke: #2b3e50;
    stroke-width: 1;
  }

  .month {
    fill: none;
    stroke: #fff;
    stroke-width: 1;
  }

  .month-name {
    fill:  #AAACAF;
  }

  .day-name {
    fill:  #AAACAF;
  }

  .RdYlGn .g0{fill:rgba(63, 80, 96, 0.7);}
  .RdYlGn .g1{fill:rgba(87, 177, 255, 0.3);}
  .RdYlGn .g2{fill:rgba(87, 177, 255, 0.3);}
  .RdYlGn .g3{fill:rgba(87, 177, 255, 0.5);}
  .RdYlGn .g4{fill:rgba(87, 177, 255, 0.5);}
  .RdYlGn .g5{fill:rgba(87, 177, 255, 0.7);}
  .RdYlGn .g6{fill:rgba(87, 177, 255, 0.7);}
  .RdYlGn .g7{fill:rgba(87, 177, 255, 0.9);}
  .RdYlGn .g8{fill:rgba(87, 177, 255, 0.9);}
  .RdYlGn .g9{fill:rgba(87, 177, 255, 1);}
  .RdYlGn .g15{fill:rgba(103, 185, 255, 1);}
  .RdYlGn .g20{fill:rgba(200, 230, 255, 1);}


  .contrib-legend .legend {
  display: inline-block;
  list-style: none;
  margin: 0 5px;
  position: relative;
  bottom: -1px;
  }
  .contrib-footer {
  padding: 0 10px 20px;
  }
  .contrib-footer .contrib-info {
  font-size: 11px;
  color: #999;
  float: left;
  }
  .contrib-legend {
  font-size: 11px;
  color: #999;
  float: right;
  margin-right:5px;
  }

   .contrib-legend .legend li {
   display: inline-block;
   width: 10px;
   height: 10px;
   }

#cal


:javascript
  var width = 850,
     height = 140,
     cellSize = 15.5,
     cal_data = [["2013/05/21",1],["2013/05/22",0],["2013/05/23",2],["2013/05/24",2],["2013/05/25",2],["2013/05/26",9],["2013/05/27",0],["2013/05/28",0],["2013/05/29",0],["2013/05/30",0],["2013/05/31",11],["2013/06/01",0],["2013/06/02",0],["2013/06/03",10],["2013/06/04",0],["2013/06/05",0],["2013/06/06",0],["2013/06/07",20],["2013/06/08",0],["2013/06/09",0],["2013/06/10",15],["2013/06/11",0],["2013/06/12",1],["2013/06/13",0],["2013/06/14",0],["2013/06/15",0],["2013/06/16",0],["2013/06/17",0],["2013/06/18",0],["2013/06/19",0],["2013/06/20",0],["2013/06/21",0],["2013/06/22",15],["2013/06/23",9],["2013/06/24",4],["2013/06/25",1],["2013/06/26",10],["2013/06/27",3],["2013/06/28",7],["2013/06/29",2],["2013/06/30",5],["2013/07/01",2],["2013/07/02",0],["2013/07/03",0],["2013/07/04",0],["2013/07/05",1],["2013/07/06",4],["2013/07/07",2],["2013/07/08",4],["2013/07/09",0],["2013/07/10",0],["2013/07/11",0],["2013/07/12",0],["2013/07/13",0],["2013/07/14",1],["2013/07/15",0],["2013/07/16",3],["2013/07/17",0],["2013/07/18",0],["2013/07/19",0],["2013/07/20",0],["2013/07/21",0],["2013/07/22",0],["2013/07/23",0],["2013/07/24",0],["2013/07/25",0],["2013/07/26",0],["2013/07/27",0],["2013/07/28",0],["2013/07/29",0],["2013/07/30",0],["2013/07/31",0],["2013/08/01",0],["2013/08/02",0],["2013/08/03",0],["2013/08/04",0],["2013/08/05",0],["2013/08/06",0],["2013/08/07",0],["2013/08/08",0],["2013/08/09",0],["2013/08/10",0],["2013/08/11",0],["2013/08/12",0],["2013/08/13",0],["2013/08/14",3],["2013/08/15",0],["2013/08/16",0],["2013/08/17",0],["2013/08/18",0],["2013/08/19",1],["2013/08/20",2],["2013/08/21",0],["2013/08/22",0],["2013/08/23",0],["2013/08/24",0],["2013/08/25",0],["2013/08/26",0],["2013/08/27",2],["2013/08/28",0],["2013/08/29",0],["2013/08/30",0],["2013/08/31",1],["2013/09/01",0],["2013/09/02",0],["2013/09/03",0],["2013/09/04",1],["2013/09/05",0],["2013/09/06",4],["2013/09/07",0],["2013/09/08",0],["2013/09/09",0],["2013/09/10",0],["2013/09/11",0],["2013/09/12",0],["2013/09/13",0],["2013/09/14",0],["2013/09/15",0],["2013/09/16",0],["2013/09/17",0],["2013/09/18",0],["2013/09/19",0],["2013/09/20",0],["2013/09/21",0],["2013/09/22",0],["2013/09/23",0],["2013/09/24",0],["2013/09/25",0],["2013/09/26",0],["2013/09/27",0],["2013/09/28",0],["2013/09/29",0],["2013/09/30",0],["2013/10/01",0],["2013/10/02",0],["2013/10/03",0],["2013/10/04",0],["2013/10/05",0],["2013/10/06",0],["2013/10/07",0],["2013/10/08",0],["2013/10/09",0],["2013/10/10",6],["2013/10/11",6],["2013/10/12",0],["2013/10/13",0],["2013/10/14",2],["2013/10/15",0],["2013/10/16",2],["2013/10/17",0],["2013/10/18",0],["2013/10/19",0],["2013/10/20",0],["2013/10/21",0],["2013/10/22",2],["2013/10/23",6],["2013/10/24",9],["2013/10/25",2],["2013/10/26",0],["2013/10/27",0],["2013/10/28",4],["2013/10/29",0],["2013/10/30",2],["2013/10/31",4],["2013/11/01",1],["2013/11/02",1],["2013/11/03",0],["2013/11/04",5],["2013/11/05",7],["2013/11/06",3],["2013/11/07",1],["2013/11/08",4],["2013/11/09",0],["2013/11/10",1],["2013/11/11",1],["2013/11/12",4],["2013/11/13",0],["2013/11/14",2],["2013/11/15",6],["2013/11/16",0],["2013/11/17",0],["2013/11/18",2],["2013/11/19",2],["2013/11/20",4],["2013/11/21",0],["2013/11/22",4],["2013/11/23",0],["2013/11/24",3],["2013/11/25",1],["2013/11/26",0],["2013/11/27",2],["2013/11/28",0],["2013/11/29",0],["2013/11/30",0],["2013/12/01",0],["2013/12/02",0],["2013/12/03",0],["2013/12/04",0],["2013/12/05",5],["2013/12/06",3],["2013/12/07",0],["2013/12/08",0],["2013/12/09",4],["2013/12/10",0],["2013/12/11",4],["2013/12/12",4],["2013/12/13",0],["2013/12/14",0],["2013/12/15",0],["2013/12/16",7],["2013/12/17",1],["2013/12/18",5],["2013/12/19",0],["2013/12/20",0],["2013/12/21",0],["2013/12/22",0],["2013/12/23",2],["2013/12/24",3],["2013/12/25",0],["2013/12/26",0],["2013/12/27",3],["2013/12/28",0],["2013/12/29",0],["2013/12/30",3],["2013/12/31",6],["2014/01/01",0],["2014/01/02",2],["2014/01/03",6],["2014/01/04",4],["2014/01/05",0],["2014/01/06",0],["2014/01/07",0],["2014/01/08",1],["2014/01/09",2],["2014/01/10",1],["2014/01/11",0],["2014/01/12",2],["2014/01/13",11],["2014/01/14",6],["2014/01/15",3],["2014/01/16",1],["2014/01/17",4],["2014/01/18",0],["2014/01/19",2],["2014/01/20",7],["2014/01/21",0],["2014/01/22",0],["2014/01/23",4],["2014/01/24",2],["2014/01/25",1],["2014/01/26",4],["2014/01/27",9],["2014/01/28",3],["2014/01/29",2],["2014/01/30",1],["2014/01/31",13],["2014/02/01",3],["2014/02/02",1],["2014/02/03",2],["2014/02/04",3],["2014/02/05",1],["2014/02/06",1],["2014/02/07",6],["2014/02/08",1],["2014/02/09",0],["2014/02/10",1],["2014/02/11",2],["2014/02/12",5],["2014/02/13",2],["2014/02/14",0],["2014/02/15",0],["2014/02/16",0],["2014/02/17",5],["2014/02/18",9],["2014/02/19",0],["2014/02/20",0],["2014/02/21",4],["2014/02/22",0],["2014/02/23",3],["2014/02/24",2],["2014/02/25",3],["2014/02/26",3],["2014/02/27",2],["2014/02/28",1],["2014/03/01",1],["2014/03/02",0],["2014/03/03",1],["2014/03/04",1],["2014/03/05",1],["2014/03/06",0],["2014/03/07",0],["2014/03/08",0],["2014/03/09",0],["2014/03/10",2],["2014/03/11",23],["2014/03/12",6],["2014/03/13",0],["2014/03/14",0],["2014/03/15",0],["2014/03/16",0],["2014/03/17",0],["2014/03/18",0],["2014/03/19",1],["2014/03/20",0],["2014/03/21",1],["2014/03/22",0],["2014/03/23",0],["2014/03/24",8],["2014/03/25",2],["2014/03/26",13],["2014/03/27",4],["2014/03/28",4],["2014/03/29",0],["2014/03/30",0],["2014/03/31",0],["2014/04/01",3],["2014/04/02",0],["2014/04/03",2],["2014/04/04",0],["2014/04/05",0],["2014/04/06",0],["2014/04/07",0],["2014/04/08",0],["2014/04/09",1],["2014/04/10",1],["2014/04/11",0],["2014/04/12",0],["2014/04/13",0],["2014/04/14",0],["2014/04/15",0],["2014/04/16",0],["2014/04/17",0],["2014/04/18",0],["2014/04/19",0],["2014/04/20",0],["2014/04/21",0],["2014/04/22",0],["2014/04/23",0],["2014/04/24",0],["2014/04/25",1],["2014/04/26",0],["2014/04/27",0],["2014/04/28",0],["2014/04/29",0],["2014/04/30",3],["2014/05/01",2],["2014/05/02",4],["2014/05/03",0],["2014/05/04",0],["2014/05/05",0],["2014/05/06",0],["2014/05/07",0],["2014/05/08",4],["2014/05/09",1],["2014/05/10",2],["2014/05/11",1],["2014/05/12",2],["2014/05/13",2],["2014/05/14",7],["2014/05/15",2],["2014/05/16",2],["2014/05/17",5],["2014/05/18",0],["2014/05/19",0],["2014/05/20",0],["2014/05/21",0]];

  var day = d3.time.format("%w"),
     week = d3.time.format("%U"),
     month = d3.time.format("%b"),
     percent = d3.format(".1%"),
     format = d3.time.format("%Y/%m/%d");

  var svg = d3.select("#cal").selectAll("svg")
     .data([['2013/05/21','2014/05/21']])
   .enter().append("svg")
     .attr("width", width)
     .attr("height", height)
     .attr("class", "RdYlGn")
   .append("g")
     .attr("transform", "translate(" + ((width - cellSize * 53) / 2) + "," + (height - cellSize * 7 - 1) + ")");

  svg.append("text")
     .attr("transform", "translate(-10," + (cellSize * 2 -4)+ ")")
     .style("text-anchor", "middle")
     .attr("class", "day-name")
     .text("M");

  svg.append("text")
     .attr("transform", "translate(-10," + (cellSize * 4 -4) + ")")
     .style("text-anchor", "middle")
     .attr("class", "day-name")
     .text('W');

  svg.append("text")
     .attr("transform", "translate(-10," + (cellSize * 6 -4) + ")")
     .style("text-anchor", "middle")
     .attr("class", "day-name")
     .text('F');

  var rect = svg.selectAll(".day")
     .data(function(d) {return d3.time.days(new Date(d[0]), new Date(d[1]));})

   .enter().append("rect")
     .attr("class", "day")
     .attr("width", cellSize)
     .attr("height", cellSize)
     .attr("x", function(d) { return week(d) * cellSize; })
     .attr("y", function(d) { return day(d) * cellSize; })
     .datum(format)

  rect.append("title")
     .text(function(d) { return d; });

  var month = svg.selectAll(".month")
     .data(function(d) { return d3.time.months(new Date(d[0]), new Date(d[1])); })
  .enter().append("text")
    .attr("class", "month-name")
    .attr("x", function(d,i) { return (i * 67) + 47; })
    .attr("y", -7)
    //.attr(function(d,i) { return "transform", "translate("+(i+100)+",-10)"; })
    .style("text-anchor", "middle")
    .text(function(d) { return month(d); });


  //var month = svg.selectAll(".month")
  //   .data(function(d) { return d3.time.months(new Date(d[0]), new Date(d[1])); })
  //.enter().append("path")
  //   .attr("class", "month")
  //   .attr("d", monthPath);

  //month.append("text")
  //   .attr("transform", "translate(-6," + cellSize * 3.5 + ")")
  //   .style("text-anchor", "middle")
  //   .text(function(d) { return d; });




  var tahrirConvertd = {}
  cal_data.forEach(function(t){
    tahrirConvertd[t[0]] = t[1]
  })

  data = tahrirConvertd

  console.log(data)

  rect.attr("class", function(d) {return "day g" + (data[d]<9 || data[d]==15 || data[d]==20 ? data[d] : 9 );})
  //.on('click', function(d){ console.log('clicked', d)})
  .select("title")
     .text(function(d) { return d + ": " + data[d]+ " Games"; });

  //function monthPath(t0) {
  //var t1 = new Date(t0.getFullYear(), t0.getMonth() + 1, 0),
  //     d0 = +day(t0), w0 = +week(t0),
  //     d1 = +day(t1), w1 = +week(t1);
  //return "M" + (w0 + 1) * cellSize + "," + d0 * cellSize
  //     + "H" + w0 * cellSize + "V" + 7 * cellSize
  //     + "H" + w1 * cellSize + "V" + (d1 + 1) * cellSize
  //     + "H" + (w1 + 1) * cellSize + "V" + 0
  //     + "H" + (w0 + 1) * cellSize + "Z";
  //}



.contrib-footer.clearfix
  .contrib-info
    Summary of games played each day.
  .contrib-legend{:title => "A summary of pull requests, issues opened, and commits to the default and gh-pages branches."}
    %span Less
    %ul.legend
      %li{:style => "background-color: rgba(63, 80, 96, 0.9)"}
      %li{:style => "background-color: rgba(87, 177, 255, 0.3)"}
      %li{:style => "background-color: rgba(87, 177, 255, 0.5)"}
      %li{:style => "background-color: rgba(87, 177, 255, 0.9)"}
      %li{:style => "background-color: rgba(103, 185, 255, 1)"}
    %span More
